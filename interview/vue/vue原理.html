<!DOCTYPE html>
<html lang="zh-CN" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>JavaScriptGuide | JavaScriptGuide</title>
    <meta name="description" content="front-end study and interview, include html,css,javascript,network...">
    <link rel="preload stylesheet" href="/javascript-guide/assets/style.421eafd5.css" as="style">
    <script type="module" src="/javascript-guide/assets/app.fbc09173.js"></script>
    <link rel="preload" href="/javascript-guide/assets/inter-roman-latin.2ed14f66.woff2" as="font" type="font/woff2" crossorigin="">
  <link rel="modulepreload" href="/javascript-guide/assets/chunks/framework.25f281e8.js">
  <link rel="modulepreload" href="/javascript-guide/assets/chunks/theme.3bc214c2.js">
  <link rel="modulepreload" href="/javascript-guide/assets/interview_vue_vue原理.md.30816be4.lean.js">
  <link rel="icon" href="/javascript-guide/favicon.ico">
  <script id="check-dark-light">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-99cf8a88><!--[--><!--]--><!--[--><span tabindex="-1" data-v-ae3e3f51></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-ae3e3f51> Skip to content </a><!--]--><!----><header class="VPNav" data-v-99cf8a88 data-v-7e5bc4a5><div class="VPNavBar has-sidebar" data-v-7e5bc4a5 data-v-381568bf><div class="container" data-v-381568bf><div class="title" data-v-381568bf><div class="VPNavBarTitle has-sidebar" data-v-381568bf data-v-305adf00><a class="title" href="/javascript-guide/" data-v-305adf00><!--[--><!--]--><!--[--><img class="VPImage logo" src="/javascript-guide/favicon.svg" alt data-v-6db2186b><!--]--><!--[-->JavaScriptGuide<!--]--><!--[--><!--]--></a></div></div><div class="content" data-v-381568bf><div class="curtain" data-v-381568bf></div><div class="content-body" data-v-381568bf><!--[--><!--]--><div class="VPNavBarSearch search" style="--vp-meta-key:&#39;Meta&#39;;" data-v-381568bf><!--[--><!----><div id="local-search"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg class="DocSearch-Search-Icon" width="20" height="20" viewBox="0 0 20 20" aria-label="search icon"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-381568bf data-v-7f418b0f><span id="main-nav-aria-label" class="visually-hidden" data-v-7f418b0f>Main Navigation</span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/javascript-guide/javascript/introduction.html" tabindex="0" data-v-7f418b0f data-v-5e623618><!--[-->JavaScript<!--]--></a><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-7f418b0f data-v-764effdf><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-764effdf><span class="text" data-v-764effdf><!----> 基础 <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-764effdf><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-764effdf><div class="VPMenu" data-v-764effdf data-v-e7ea1737><div class="items" data-v-e7ea1737><!--[--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-2f2cfafc><a class="VPLink link" href="/javascript-guide/basic/html/introduction.html" data-v-2f2cfafc><!--[-->html<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-2f2cfafc><a class="VPLink link" href="/javascript-guide/basic/css/introduction.html" data-v-2f2cfafc><!--[-->css<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-2f2cfafc><a class="VPLink link" href="/javascript-guide/basic/browser/introduction.html" data-v-2f2cfafc><!--[-->浏览器<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-2f2cfafc><a class="VPLink link" href="/javascript-guide/basic/network/introduction.html" data-v-2f2cfafc><!--[-->网络<!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/javascript-guide/code/introduction.html" tabindex="0" data-v-7f418b0f data-v-5e623618><!--[-->Coding<!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/javascript-guide/interview/introduction.html" tabindex="0" data-v-7f418b0f data-v-5e623618><!--[-->Interview<!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/javascript-guide/about.html" tabindex="0" data-v-7f418b0f data-v-5e623618><!--[-->About<!--]--></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-381568bf data-v-f6a63727><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="toggle dark mode" aria-checked="false" data-v-f6a63727 data-v-82b282f1 data-v-f3c41672><span class="check" data-v-f3c41672><span class="icon" data-v-f3c41672><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-82b282f1><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-82b282f1><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-381568bf data-v-0394ad82 data-v-7bc22406><!--[--><a class="VPSocialLink" href="https://github.com/godwei123" aria-label="github" target="_blank" rel="noopener" data-v-7bc22406 data-v-36371990><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-381568bf data-v-40855f84 data-v-764effdf><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-764effdf><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-764effdf><circle cx="12" cy="12" r="2"></circle><circle cx="19" cy="12" r="2"></circle><circle cx="5" cy="12" r="2"></circle></svg></button><div class="menu" data-v-764effdf><div class="VPMenu" data-v-764effdf data-v-e7ea1737><!----><!--[--><!--[--><!----><div class="group" data-v-40855f84><div class="item appearance" data-v-40855f84><p class="label" data-v-40855f84>Appearance</p><div class="appearance-action" data-v-40855f84><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="toggle dark mode" aria-checked="false" data-v-40855f84 data-v-82b282f1 data-v-f3c41672><span class="check" data-v-f3c41672><span class="icon" data-v-f3c41672><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-82b282f1><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-82b282f1><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div></div></div><div class="group" data-v-40855f84><div class="item social-links" data-v-40855f84><div class="VPSocialLinks social-links-list" data-v-40855f84 data-v-7bc22406><!--[--><a class="VPSocialLink" href="https://github.com/godwei123" aria-label="github" target="_blank" rel="noopener" data-v-7bc22406 data-v-36371990><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-381568bf data-v-e5dd9c1c><span class="container" data-v-e5dd9c1c><span class="top" data-v-e5dd9c1c></span><span class="middle" data-v-e5dd9c1c></span><span class="bottom" data-v-e5dd9c1c></span></span></button></div></div></div></div><!----></header><div class="VPLocalNav" data-v-99cf8a88 data-v-a97031cc><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-a97031cc><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="menu-icon" data-v-a97031cc><path d="M17,11H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,11,17,11z"></path><path d="M21,7H3C2.4,7,2,6.6,2,6s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,7,21,7z"></path><path d="M21,15H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,15,21,15z"></path><path d="M17,19H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,19,17,19z"></path></svg><span class="menu-text" data-v-a97031cc>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-a97031cc data-v-687955bc><button data-v-687955bc>Return to top</button><!----></div></div><aside class="VPSidebar" data-v-99cf8a88 data-v-54885d6c><div class="curtain" data-v-54885d6c></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-54885d6c><span class="visually-hidden" id="sidebar-aria-label" data-v-54885d6c> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="group" data-v-54885d6c><section class="VPSidebarItem level-0 collapsible collapsed" data-v-54885d6c data-v-c4656e6d><div class="item" role="button" tabindex="0" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><h2 class="text" data-v-c4656e6d>Html</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-c4656e6d><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="caret-icon" data-v-c4656e6d><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-c4656e6d><!--[--><div class="VPSidebarItem level-1 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/javascript-guide/interview/html-interview.html" data-v-c4656e6d><!--[--><p class="text" data-v-c4656e6d>面试题</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-54885d6c><section class="VPSidebarItem level-0 collapsible collapsed" data-v-54885d6c data-v-c4656e6d><div class="item" role="button" tabindex="0" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><h2 class="text" data-v-c4656e6d>CSS</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-c4656e6d><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="caret-icon" data-v-c4656e6d><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-c4656e6d><!--[--><div class="VPSidebarItem level-1 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/javascript-guide/interview/css-interview.html" data-v-c4656e6d><!--[--><p class="text" data-v-c4656e6d>面试题</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-54885d6c><section class="VPSidebarItem level-0 collapsible collapsed" data-v-54885d6c data-v-c4656e6d><div class="item" role="button" tabindex="0" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><h2 class="text" data-v-c4656e6d>JavaScript</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-c4656e6d><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="caret-icon" data-v-c4656e6d><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-c4656e6d><!--[--><div class="VPSidebarItem level-1 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/javascript-guide/interview/js-interview.html" data-v-c4656e6d><!--[--><p class="text" data-v-c4656e6d>面试题</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-54885d6c><section class="VPSidebarItem level-0 collapsible collapsed" data-v-54885d6c data-v-c4656e6d><div class="item" role="button" tabindex="0" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><h2 class="text" data-v-c4656e6d>计算机网络</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-c4656e6d><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="caret-icon" data-v-c4656e6d><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-c4656e6d><!--[--><div class="VPSidebarItem level-1 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/javascript-guide/interview/network-interview.html" data-v-c4656e6d><!--[--><p class="text" data-v-c4656e6d>面试题</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-54885d6c><section class="VPSidebarItem level-0 collapsible collapsed" data-v-54885d6c data-v-c4656e6d><div class="item" role="button" tabindex="0" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><h2 class="text" data-v-c4656e6d>浏览器原理</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-c4656e6d><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="caret-icon" data-v-c4656e6d><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-c4656e6d><!--[--><div class="VPSidebarItem level-1 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/javascript-guide/interview/browser-interview.html" data-v-c4656e6d><!--[--><p class="text" data-v-c4656e6d>面试题</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-54885d6c><section class="VPSidebarItem level-0 collapsible has-active" data-v-54885d6c data-v-c4656e6d><div class="item" role="button" tabindex="0" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><h2 class="text" data-v-c4656e6d>Vue</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-c4656e6d><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="caret-icon" data-v-c4656e6d><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-c4656e6d><!--[--><div class="VPSidebarItem level-1 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/javascript-guide/interview/vue/introduction.html" data-v-c4656e6d><!--[--><p class="text" data-v-c4656e6d>Introduction</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/javascript-guide/interview/vue/interview.html" data-v-c4656e6d><!--[--><p class="text" data-v-c4656e6d>Interview</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/javascript-guide/interview/vue/vue%E5%9F%BA%E7%A1%80.html" data-v-c4656e6d><!--[--><p class="text" data-v-c4656e6d>Vue 基础</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link is-active has-active" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/javascript-guide/interview/vue/vue%E5%8E%9F%E7%90%86.html" data-v-c4656e6d><!--[--><p class="text" data-v-c4656e6d>Vue 原理</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-54885d6c><section class="VPSidebarItem level-0 collapsible collapsed" data-v-54885d6c data-v-c4656e6d><div class="item" role="button" tabindex="0" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><h2 class="text" data-v-c4656e6d>React</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-c4656e6d><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="caret-icon" data-v-c4656e6d><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-c4656e6d><!--[--><div class="VPSidebarItem level-1 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/javascript-guide/interview/react-interview.html" data-v-c4656e6d><!--[--><p class="text" data-v-c4656e6d>面试题</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-54885d6c><section class="VPSidebarItem level-0 collapsible collapsed" data-v-54885d6c data-v-c4656e6d><div class="item" role="button" tabindex="0" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><h2 class="text" data-v-c4656e6d>项目优化</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-c4656e6d><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="caret-icon" data-v-c4656e6d><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-c4656e6d><!--[--><div class="VPSidebarItem level-1 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/javascript-guide/interview/optimize-interview.html" data-v-c4656e6d><!--[--><p class="text" data-v-c4656e6d>面试题</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-54885d6c><section class="VPSidebarItem level-0 collapsible collapsed" data-v-54885d6c data-v-c4656e6d><div class="item" role="button" tabindex="0" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><h2 class="text" data-v-c4656e6d>项目管理</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-c4656e6d><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="caret-icon" data-v-c4656e6d><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-c4656e6d><!--[--><div class="VPSidebarItem level-1 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/javascript-guide/interview/project-interview.html" data-v-c4656e6d><!--[--><p class="text" data-v-c4656e6d>面试题</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-54885d6c><section class="VPSidebarItem level-0 collapsible collapsed" data-v-54885d6c data-v-c4656e6d><div class="item" role="button" tabindex="0" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><h2 class="text" data-v-c4656e6d>项目打包</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-c4656e6d><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="caret-icon" data-v-c4656e6d><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-c4656e6d><!--[--><div class="VPSidebarItem level-1 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/javascript-guide/interview/webpack-interview.html" data-v-c4656e6d><!--[--><p class="text" data-v-c4656e6d>面试题</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-99cf8a88 data-v-97b5189c><div class="VPDoc has-sidebar has-aside" data-v-97b5189c data-v-e9631fd0><!--[--><!--]--><div class="container" data-v-e9631fd0><div class="aside" data-v-e9631fd0><div class="aside-curtain" data-v-e9631fd0></div><div class="aside-container" data-v-e9631fd0><div class="aside-content" data-v-e9631fd0><div class="VPDocAside" data-v-e9631fd0 data-v-3f215769><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline" data-v-3f215769 data-v-ff0f39c8><div class="content" data-v-ff0f39c8><div class="outline-marker" data-v-ff0f39c8></div><div class="outline-title" data-v-ff0f39c8>On this page</div><nav aria-labelledby="doc-outline-aria-label" data-v-ff0f39c8><span class="visually-hidden" id="doc-outline-aria-label" data-v-ff0f39c8> Table of Contents for current page </span><ul class="root" data-v-ff0f39c8 data-v-b0ff2abe><!--[--><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-3f215769></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-e9631fd0><div class="content-container" data-v-e9631fd0><!--[--><!--]--><!----><main class="main" data-v-e9631fd0><div style="position:relative;" class="vp-doc _javascript-guide_interview_vue_vue%E5%8E%9F%E7%90%86" data-v-e9631fd0><div><h2 id="vue-原理" tabindex="-1">Vue 原理 <a class="header-anchor" href="#vue-原理" aria-label="Permalink to &quot;Vue 原理&quot;">​</a></h2><p>watch 和 computed</p><h3 id="响应式原理" tabindex="-1">响应式原理 <a class="header-anchor" href="#响应式原理" aria-label="Permalink to &quot;响应式原理&quot;">​</a></h3><p>组件中 data 数据变化会触发视图的更新。监听 data 属性的 getter 和 setter</p><p>实现数据驱动视图第一步。</p><p>核心 API：Object.defineProperty / Proxy</p><p>Object.defineProperty(对象, 属性, {配置})</p><ul><li>深度监听，递归实现，计算量大</li><li>无法监听新增和删除属性（Vue.set / Vue.delete）</li><li>无法原生监听数组，需要重新定义数组的原型进行监听</li></ul><h3 id="双向绑定的原理" tabindex="-1">双向绑定的原理 <a class="header-anchor" href="#双向绑定的原理" aria-label="Permalink to &quot;双向绑定的原理&quot;">​</a></h3><h3 id="虚拟-dom-diff" tabindex="-1">虚拟 DOM / diff <a class="header-anchor" href="#虚拟-dom-diff" aria-label="Permalink to &quot;虚拟 DOM / diff&quot;">​</a></h3><p>使用 JS 模拟 DOM 结构，计算最小变更，然后有效操作 DOM</p><p>虚拟 DOM 是一个对象（标签/属性/子元素）</p><p>优点：</p><ul><li>DOM 操作比较耗时</li><li>有了 vdom 之后，就没有和 dom 强绑定了，可以渲染到别的平台。</li></ul><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#FFCB6B;">type</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">div</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#FFCB6B;">props</span><span style="color:#89DDFF;">:{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#FFCB6B;">id</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">a</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#FFCB6B;">className</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;">[</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">b</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">c</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#FFCB6B;">onClick</span><span style="color:#89DDFF;">:</span><span style="color:#C792EA;">function</span><span style="color:#89DDFF;">(){}</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#FFCB6B;">children</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;">[]</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div><p>直接写 vdom 太麻烦了，所以前端框架都会设计一套 dsl，然后编译成 render function，执行后产生 vdom。</p><p>渲染 vdom 也就是通过 dom api 增删改 dom。</p><p>diff 算法是 vdom 的核心、最关键的部分。</p><ul><li>只比较同层节点</li><li>tag 不同，则直接删除，不在删除重建</li><li>tag 和 key 都相同，则认为是同一个节点</li><li>h，vnode，patch，diff，key</li></ul><p>patch(elem, vnode)</p><p>patch(vnode, newVnode)</p><h3 id="模板编译" tabindex="-1">模板编译 <a class="header-anchor" href="#模板编译" aria-label="Permalink to &quot;模板编译&quot;">​</a></h3><p><strong>组件渲染和更新过程</strong></p><p>vue template complier 编译为 render 函数</p><p>执行 render 函数生成 vnode，基于 vnode 执行 patch 和 diff</p><p>使用 webpack，vue-loader 会在开发环境下编译模板，运行时已经不存在模板了</p><p>部分复杂情况，可能不能使用 template，会使用 render</p><ul><li>初次渲染：解析模板为 render 函数；触发响应式，监听 data 属性 getter 和 setter；执行 render 函数，生成 vnode，patch</li><li>更新渲染：修改 data，触发 setter（此前 getter 中已被监听）；重新执行 render，生成 newVnode；执行 patch</li><li>异步渲染：</li></ul><p>nextTick 待 DOM 渲染完成后回调。页面渲染会将 data 做整合，多次 data 修改只会渲染一次，减少 DOM 操作次数，提高性能。</p><p><img src="/javascript-guide/assets/20220715224607703.14803c02.png" alt="image-20220715224607703"></p><p>我们无法直接追踪局部变量的读写过程，在原生 JavaScript 中没有提供这样一种机制。<strong>但是</strong>，我们是可以追踪一个<strong>对象的属性</strong> 进行读和写的。</p><p>在 JavaScript 中有两种劫持属性访问的方式：<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/get" target="_blank" rel="noreferrer">getter</a> /<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/set" target="_blank" rel="noreferrer">setters</a> 和 <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Proxy" target="_blank" rel="noreferrer">Proxies</a>。Vue 2 使用 getter/setters 完全由于需支持更旧版本浏览器的限制。而在 Vue 3 中使用了 Proxy 来创建响应式对象，将 getter/setter 用于 ref。</p><ul><li>当你将一个响应性对象的属性解构为一个局部变量时，响应性就会“断开连接”，因为对局部变量的访问不再触发 get / set 代理捕获。</li><li>从 <code>reactive()</code> 返回的代理尽管行为上表现得像原始对象，但我们通过使用 <code>===</code> 运算符还是能够比较出它们的不同。</li></ul><p>一个运行时渲染器将会遍历整个虚拟 DOM 树，并据此构建真实的 DOM 树。这个过程被称为<strong>挂载 (mount)</strong>。</p><p>如果我们有两份虚拟 DOM 树，渲染器将会有比较地遍历它们，找出它们之间的区别，并应用这其中的变化到真实的 DOM 上。这个过程被称为<strong>修补 (patch)</strong>，又被称为“比较差异 (diffing)”或“协调 (reconciliation)”。</p><p>虚拟 DOM 带来的主要收益是它赋予了开发者编程式地、声明式地创建、审查和组合所需 UI 结构的能力，而把直接与 DOM 相关的操作交给了渲染器。</p><p>以更高层面的视角看，Vue 组件挂载后发生了如下这几件事：</p><ol><li><strong>编译</strong>：Vue 模板被编译为了<strong>渲染函数</strong>：即用来返回虚拟 DOM 树的函数。这一步骤可以通过构建步骤提前完成，也可以通过使用运行时编译器即时完成。</li><li><strong>挂载</strong>：运行时渲染器调用渲染函数，遍历返回的虚拟 DOM 树，并基于它创建实际的 DOM 节点。这一步会作为<a href="https://staging-cn.vuejs.org/guide/extras/reactivity-in-depth.html" target="_blank" rel="noreferrer">响应式副作用</a> 执行，因此它会追踪其中所用到的所有响应式依赖。</li><li><strong>修补</strong>：当一个依赖发生变化后，副作用会重新运行，这时候会创建一个更新后的虚拟 DOM 树。运行时渲染器遍历这棵新树，将它与旧树进行比较，然后将必要的更新应用到真实 DOM 上去。</li></ol><p>Vue 编译器用来提高虚拟 DOM 运行时性能的主要优化：</p><ol><li><p><strong>静态提升</strong> 在模板中常常有部分内容是不带任何动态绑定的，没有必要在重新渲染时再次创建和比对它们。此外，当有足够多连续的静态元素时，它们还会再被压缩为一个“静态 vnode”，其中包含的是这些节点相应的纯 HTML 字符串。这些静态节点会直接通过 <code>innerHTML</code> 来挂载。同时还会在初次挂载后缓存相应的 DOM 节点。如果这部分内容在应用中其他地方被重用，那么将会使用原生的 <code>cloneNode()</code> 方法来克隆新的 DOM 节点，这会非常高效。</p></li><li><p><strong>修补标记 Flags</strong></p><p>对于单个有动态绑定的元素来说，我们可以在编译时推断出大量信息：一个元素可以有多个修补标记，会被合并成一个数字。运行时渲染器也将会使用位运算来检查这些标记，确定相应的更新操作。</p></li><li><p><strong>树结构打平</strong></p><p>这里我们引入一个概念“区块”，内部结构是稳定的一个部分可被称之为一个区块。每一个块都会追踪其所有带修补标记的后代节点 ( 不只是直接子节点) 。编译的结果会被打平为一个数组，仅包含所有动态的后代节点。当这个组件需要重渲染时，只需要遍历这个打平的树而非整棵树。这也就是我们所说的** 树结构打平**，这大大减少了我们在虚拟 DOM 协调时需要遍历的节点数量。模板中任何的静态部分都会被高效地略过。<code>v-if</code> 和 <code>v-for</code> 指令会创建新的区块节点</p></li></ol><p>Vue2 与 Vue3 有哪些变化</p><ol><li><p>生命周期变化，功能上类似，写法上 on+名称；Vue3 组合式 API 需要先引入，选项 API 可直接调用；beforeCreate/created 在 Vue3 中取消，在 setup 中运行</p></li><li><p>多根节点，也就是<code>fragment</code>，Vue2 中，编写页面的时候，我们需要去将组件包裹在<code>&lt;div&gt;</code>中，否则报错警告。</p></li><li><p>异步组件。Vue3 提供 <code>Suspense</code>组件，允许程序在等待异步组件时渲染兜底的内容，如 loading ，使用户体验更平滑。 使用它，需在模板中声明，并包括两个命名插槽：<code>default</code>和<code>fallback</code>。<code>Suspense</code> 确保加载完异步内容时显示默认插槽，并将<code>fallback</code>插槽用作加载状态。</p></li><li><p><code>teleport</code> . Vue3 提供<code>Teleport</code>组件可将部分 DOM 移动到 Vue app 之外的位置。</p></li><li><p>组合式 API。Vue2 中一个逻辑会散乱在文件不同位置（data、props、computed、watch、生命周期函数等），导致代码的可读性变差，需要上下来回跳转文件位置。组合式 API 还提供了较为完美的逻辑复用性方案，解决了 Vue2 <code>Mixin</code>的存在的命名冲突隐患，依赖关系不明确，不同组件间配置化使用不够灵活。</p></li><li><p>响应式原理。Vue2 响应式原理基础是<code>Object.defineProperty</code>；Vue3 响应式原理基础是 <code>Proxy</code>。</p><p>主要原因：无法监听对象或数组新增、删除的元素。 Vue2 方案：针对常用数组原型方法<code>push</code>、<code>pop</code>、<code>shift</code>、<code>unshift</code>、<code>splice</code> 、<code>sort</code>、<code>reverse</code>进行了 hack 处理；提供<code>Vue.set</code>监听对象/数组新增属性。对象的新增/删除响应，还可以<code>new</code> 个新对象，新增则合并新属性和旧对象；删除则将删除属性后的对象深拷贝给新对象。</p><p><strong>Tips：</strong> <code>Object.defineOProperty</code>是可以监听数组已有元素，但 Vue2 没有提供的原因是<code>性能</code>问题</p><p>对象/数组的新增、删除。</p><p>监测.length 修改。</p><p>Map、Set、WeakMap、WeakSet 的支持。</p></li><li><p>虚拟 DOM。Vue3 相比于 Vue2 虚拟 DOM 上增加<code>patchFlag</code>字段。</p></li><li><p>事件缓存。Vue3 的 <code>cacheHandler</code>可在第一次渲染后缓存我们的事件。相比于 Vue2 无需每次渲染都传递一个新函数。加一个<code>click</code> 事件。</p></li><li><p>Diff 优化。patchFlag 帮助 diff 时区分静态节点，以及不同类型的动态节点。一定程度地减少节点本身及其属性的比对。</p></li><li><p>打包优化。tree-shaking，移除 JavaScript 上下文中未引用的代码。以<code>nextTick</code>为例子，在 Vue2 中，全局 API 暴露在 Vue 实例上，即使未使用，也无法通过<code>tree-shaking</code>进行消除。Vue3 中针对全局 和内部的 API 进行了重构，并考虑到<code>tree-shaking</code> 的支持。因此，全局 API 现在只能作为 ES 模块构建的命名导出进行访问。</p></li><li><p>TS 支持</p></li></ol><p>react 是通过 setState 的 api 触发状态更新的，更新以后就重新渲染整个 vdom。</p><p>而 vue 是通过对状态做代理，get 的时候收集以来，然后修改状态的时候就可以触发对应组件的 render 了。</p><p>那 vue 为啥可以做到精准的更新变化的组件呢？因为响应式的代理呀，不管是子组件、父组件、还是其他位置的组件，只要用到了对应的状态，那就会被作为依赖收集起来，状态变化的时候就可以触发它们的 render，不管是组件是在哪里的。</p><p>react 的 setState 会渲染整个 vdom，而一个应用的所有 vdom 可能是很庞大的，计算量就可能很大。</p><h3 id="fiber-架构" tabindex="-1"><strong>fiber 架构</strong> <a class="header-anchor" href="#fiber-架构" aria-label="Permalink to &quot;**fiber 架构**&quot;">​</a></h3><p>优化的目标是打断计算，分多次进行，但现在递归的渲染是不能打断的，有两个方面的原因导致的：</p><ul><li>渲染的时候直接就操作了 dom 了，这时候打断了，那已经更新到 dom 的那部分怎么办？</li><li>现在是直接渲染的 vdom，而 vdom 里只有 children 的信息，如果打断了，怎么找到它的父节点呢？</li></ul><p>第一个问题的解决还是容易想到的：渲染的时候不要直接更新到 dom 了，只找到变化的部分，打个增删改的标记，创建好 dom，等全部计算完了一次性更新到 dom 就好了。</p><p>所以 react 把渲染流程分为了两部分：render 和 commit。</p><p>render 阶段会找到 vdom 中变化的部分，创建 dom，打上增删改的标记，这个叫做 reconcile，调和。</p><p>reconcile 是可以打断的，由 schedule 调度。</p><p>之后全部计算完了，就一次性更新到 dom，叫做 commit。</p><p>这样，react 就把之前的和 vue 很像的递归渲染，改造成了 render（reconcile + schdule） + commit 两个阶段的渲染。</p><p>第二个问题，如何打断以后还能找到父节点、其他兄弟节点呢？</p><p>现有的 vdom 是不行的，需要再记录下 parent、silbing 的信息。所以 react 创造了 fiber 的数据结构。</p><p>除了 children 信息外，额外多了 sibling、return，分别记录着兄弟节点、父节点的信息。</p><p>这个数据结构也叫做 fiber。（fiber 既是一种数据结构，也代表 render + commit 的渲染流程）</p><p>react 会先把 vdom 转换成 fiber，再去进行 reconcile，这样就是可打断的了。</p><p>reconcile 的时候把有 effectTag 的节点收集到一个队列里，然后 commit 阶段直接遍历这个队列就行了。这个队列叫做 effectList。react 会在 commit 阶段遍历 effectList，根据 effectTag 来增删改 dom。</p><p>useEffect 被设计成了在 dom 操作前异步调用，useLayoutEffect 是在 dom 操作后同步调用。</p></div></div></main><footer class="VPDocFooter" data-v-e9631fd0 data-v-face870a><!--[--><!--]--><!----><div class="prev-next" data-v-face870a><div class="pager" data-v-face870a><a class="pager-link prev" href="/javascript-guide/interview/vue/vue%E5%9F%BA%E7%A1%80.html" data-v-face870a><span class="desc" data-v-face870a>Previous page</span><span class="title" data-v-face870a>Vue 基础</span></a></div><div class="has-prev pager" data-v-face870a><a class="pager-link next" href="/javascript-guide/interview/react-interview.html" data-v-face870a><span class="desc" data-v-face870a>Next page</span><span class="title" data-v-face870a>面试题</span></a></div></div></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter has-sidebar" data-v-99cf8a88 data-v-f4388a15><div class="container" data-v-f4388a15><p class="message" data-v-f4388a15>Released under the MIT License.</p><p class="copyright" data-v-f4388a15>Copyright © 2021-present God Wei</p></div></footer><!--[--><!--]--></div></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"basic_css_@font-face.md\":\"bf05eb52\",\"basic_css_center.md\":\"5b8c1b3f\",\"basic_css_basic-shape.md\":\"b2666f4b\",\"basic_css_box-reflect.md\":\"a9fcddf4\",\"basic_css_clip-path.md\":\"b128194d\",\"basic_browser_浏览器插件.md\":\"ea173ee4\",\"basic_css_layout.md\":\"6a6e3b25\",\"basic_html_attribute.md\":\"9d63a125\",\"basic_file-upload.md\":\"ba836957\",\"basic_browser_移动端适配.md\":\"e3fc2ee9\",\"basic_css_grid.md\":\"47574bf5\",\"basic_css_filter.md\":\"66165ae7\",\"basic_css_position.md\":\"d79b2a66\",\"about.md\":\"50a1d928\",\"basic_browser_readme.md\":\"60d8746f\",\"basic_browser_browser-interview.md\":\"8012960f\",\"basic_browser_introduction.md\":\"4a3abd68\",\"basic_browser_浏览器安全.md\":\"3516ce7a\",\"basic_browser_浏览器性能.md\":\"53625ed9\",\"basic_browser_浏览器存储.md\":\"ebc2e2a0\",\"basic_css_mobile-adaptation.md\":\"6fbdcc62\",\"basic_css_color-var-fun.md\":\"e2d5b1bd\",\"basic_css_shapes.md\":\"583bdbe8\",\"basic_css_flex.md\":\"7ca378dc\",\"basic_css_blend-mode.md\":\"de477d27\",\"basic_css_introduction.md\":\"e814644f\",\"basic_css_text-hidden-overflow.md\":\"db01ad5b\",\"basic_css_pseudo-classes-element.md\":\"3981aa73\",\"basic_css_selectors.md\":\"dffa3f2e\",\"basic_css_bfc.md\":\"e42ad499\",\"basic_css_masking.md\":\"70424b13\",\"basic_browser_浏览器缓存.md\":\"accafac1\",\"basic_browser_浏览器跨域.md\":\"9aa8f1df\",\"basic_browser_浏览器渲染.md\":\"ae20a4fd\",\"basic_css_transition-animation.md\":\"2706dc1d\",\"basic_css_css-interview.md\":\"24541a85\",\"basic_html_canvas.md\":\"3044ab41\",\"basic_html_html-interview.md\":\"d06acda7\",\"basic_html_input.md\":\"046a52a2\",\"code_part-three.md\":\"9a103513\",\"basic_network_http.md\":\"072a7329\",\"basic_network_introduction.md\":\"d8a4b0b7\",\"code_part-two.md\":\"c0834881\",\"code_this.md\":\"3d72d6c9\",\"basic_html_element.md\":\"29cddfb0\",\"basic_webpack.md\":\"89221dca\",\"code_part-four.md\":\"73851ae9\",\"code_原型.md\":\"f3e92715\",\"basic_lazy-load.md\":\"236a3c0a\",\"code_introduction.md\":\"39f66a22\",\"code_其他.md\":\"bc12c934\",\"interview_webpack.md\":\"fbffc00f\",\"interview_git.md\":\"7484418d\",\"basic_network_network-interview.md\":\"b14656df\",\"basic_network_ip.md\":\"ba86ab36\",\"code_类型转换.md\":\"55f66187\",\"code_异步.md\":\"0587226e\",\"index.md\":\"8395050c\",\"code_变量作用域.md\":\"3b48d9f1\",\"code_index.md\":\"dec2d797\",\"basic_数据埋点.md\":\"fb02c5bc\",\"basic_html_introduction.md\":\"de7935e0\",\"basic_network_tcp.md\":\"073b0353\",\"interview_axios.md\":\"e8ef29ac\",\"code_part-one.md\":\"91284f27\",\"interview_introduction.md\":\"aace702d\",\"javascript_闭包.md\":\"d3d4d7f3\",\"interview_optimize-interview.md\":\"e7db584d\",\"javascript_broadcast channel api.md\":\"4546938a\",\"interview_vue_vue.md\":\"6e7ec43c\",\"javascript_节流与防抖.md\":\"890957a7\",\"javascript_闭包和函数柯里化.md\":\"c0528e39\",\"readme.md\":\"72c62d97\",\"javascript_array.md\":\"02d1ddec\",\"javascript_array.prototype.findlast.md\":\"e6aca7dd\",\"javascript_面试题.md\":\"ca99f934\",\"interview_project-interview.md\":\"87fbe673\",\"interview_react_introduction.md\":\"74ad5893\",\"interview_react_react-interview.md\":\"c3503f1a\",\"interview_typescript.md\":\"44031904\",\"interview_vue_introduction.md\":\"f768a065\",\"interview_vue_pinia.md\":\"1474c719\",\"interview_vue_vue-interview.md\":\"b5d0b7da\",\"interview_vue_vue原理.md\":\"30816be4\",\"interview_vue_vue基础.md\":\"b5c7f547\",\"interview_webpack-interview.md\":\"526251b6\",\"javascript_dom.md\":\"bc063de2\",\"javascript_es5_.md\":\"0202c7f0\",\"javascript_es6.md\":\"360b00b9\",\"javascript_intersection observer api.md\":\"ff415196\",\"javascript_intl.md\":\"4a37d1d1\",\"javascript_untitled.md\":\"f463346e\",\"javascript_web speech api.md\":\"ae6d2dd6\",\"javascript_async.md\":\"787a4afe\",\"javascript_class.md\":\"f932f12b\",\"javascript_event.md\":\"81a7d6e9\",\"javascript_eventloop.md\":\"a11311a4\",\"javascript_extends.md\":\"18696c9d\",\"javascript_introduction.md\":\"83d4237d\",\"javascript_iterator.md\":\"a6476f93\",\"javascript_javascript.md\":\"6127d9c1\",\"javascript_temporal.md\":\"85eec11b\",\"javascript_string.md\":\"e2b6368a\",\"javascript_js-interview.md\":\"007818cc\",\"javascript_prototype.md\":\"311df010\",\"javascript_proxy-reflect.md\":\"f85b5067\",\"javascript_this.md\":\"d6c8e841\",\"javascript_正则表达式.md\":\"64a6933b\",\"javascript_类型和语法.md\":\"a5584cf7\",\"javascript_类型转换.md\":\"15c165c9\",\"interview_vue_vue-router.md\":\"b0408efd\",\"javascript_object.md\":\"fb8a79fb\",\"javascript_array.prototype.at.md\":\"172876f7\",\"interview_interview.md\":\"b961cbbd\"}")
__VP_SITE_DATA__ = JSON.parse("{\"lang\":\"zh-CN\",\"dir\":\"ltr\",\"title\":\"JavaScriptGuide\",\"description\":\"front-end study and interview, include html,css,javascript,network...\",\"base\":\"/javascript-guide/\",\"head\":[],\"appearance\":true,\"themeConfig\":{\"siteTitle\":\"JavaScriptGuide\",\"logo\":\"/favicon.svg\",\"nav\":[{\"text\":\"JavaScript\",\"link\":\"/javascript/introduction\"},{\"text\":\"基础\",\"items\":[{\"text\":\"html\",\"link\":\"/basic/html/introduction\"},{\"text\":\"css\",\"link\":\"/basic/css/introduction\"},{\"text\":\"浏览器\",\"link\":\"/basic/browser/introduction\"},{\"text\":\"网络\",\"link\":\"/basic/network/introduction\"}]},{\"text\":\"Coding\",\"link\":\"/code/introduction\"},{\"text\":\"Interview\",\"link\":\"/interview/introduction\"},{\"text\":\"About\",\"link\":\"/about\"}],\"sidebar\":{\"/javascript\":[{\"text\":\"JavaScript\",\"collapsed\":true,\"items\":[{\"text\":\"Introduction\",\"link\":\"/javascript/introduction\"},{\"text\":\"类型和语法\",\"link\":\"/javascript/类型和语法\"},{\"text\":\"Object\",\"link\":\"/javascript/object\"},{\"text\":\"String\",\"link\":\"/javascript/String\"},{\"text\":\"Array\",\"link\":\"/javascript/Array\"},{\"text\":\"类型转换\",\"link\":\"/javascript/类型转换\"},{\"text\":\"this\",\"link\":\"/javascript/this\"},{\"text\":\"原型和原型链\",\"link\":\"/javascript/prototype\"},{\"text\":\"同步和异步\",\"link\":\"/javascript/async\"},{\"text\":\"闭包\",\"link\":\"/javascript/闭包\"},{\"text\":\"EventLoop\",\"link\":\"/javascript/eventLoop\"},{\"text\":\"正则\",\"link\":\"/javascript/正则表达式\"},{\"text\":\"节流和防抖\",\"link\":\"/javascript/节流和防抖\"},{\"text\":\"ES6\",\"link\":\"/javascript/ES6\"},{\"text\":\"DOM\",\"link\":\"/javascript/DOM\"},{\"text\":\"BOM\",\"link\":\"/javascript/BOM\"},{\"text\":\"其他\",\"link\":\"/javascript/other\"}]}],\"/basic/html\":[{\"text\":\"Introduction\",\"link\":\"/basic/html/introduction\"},{\"text\":\"HTML元素\",\"link\":\"/basic/html/element\"},{\"text\":\"HTML属性\",\"link\":\"/basic/html/attribute\"},{\"text\":\"Input元素\",\"link\":\"/basic/html/input\"},{\"text\":\"Canvas元素\",\"link\":\"/basic/html/canvas\"}],\"/basic/css\":[{\"text\":\"Introduction\",\"link\":\"/basic/css/introduction\"},{\"text\":\"flex布局\",\"link\":\"/basic/css/flex\"},{\"text\":\"grid布局\",\"link\":\"/basic/css/grid\"},{\"text\":\"居中\",\"link\":\"/basic/css/center\"},{\"text\":\"常见布局\",\"link\":\"/basic/css/layout\"},{\"text\":\"BFC\",\"link\":\"/basic/css/bfc\"},{\"text\":\"层叠与定位\",\"link\":\"/basic/css/position\"},{\"text\":\"过渡与动画\",\"link\":\"/basic/css/transition-animation\"},{\"text\":\"伪类与伪元素\",\"link\":\"/basic/css/pseudo-classes-element\"},{\"text\":\"CSS选择器\",\"link\":\"/basic/css/selectors\"},{\"text\":\"@font-face\",\"link\":\"/basic/css/@font-face\"},{\"text\":\"basic-shape\",\"link\":\"/basic/css/basic-shape\"},{\"text\":\"blend-mode\",\"link\":\"/basic/css/blend-mode\"},{\"text\":\"clip-path\",\"link\":\"/basic/css/clip-path\"},{\"text\":\"filter\",\"link\":\"/basic/css/filter\"},{\"text\":\"masking\",\"link\":\"/basic/css/masking\"},{\"text\":\"shapes\",\"link\":\"/basic/css/shapes\"}],\"/basic/network\":[{\"text\":\"Introduction\",\"link\":\"/advanced/browser/introduction\"}],\"/basic/browser\":[{\"text\":\"Introduction\",\"link\":\"/advanced/browser/introduction\"},{\"text\":\"浏览器存储\",\"link\":\"/advanced/browser/浏览器存储\"},{\"text\":\"浏览器跨域\",\"link\":\"/advanced/browser/浏览器跨域\"},{\"text\":\"浏览器缓存\",\"link\":\"/advanced/browser/浏览器缓存\"},{\"text\":\"浏览器安全\",\"link\":\"/advanced/browser/浏览器安全\"},{\"text\":\"浏览器渲染\",\"link\":\"/advanced/browser/浏览器渲染\"},{\"text\":\"浏览器性能\",\"link\":\"/advanced/browser/浏览器性能\"}],\"/code\":[{\"text\":\"手写代码\",\"items\":[{\"text\":\"Introduction\",\"link\":\"/code/introduction\"},{\"text\":\"part-one\",\"link\":\"/code/part-one\"},{\"text\":\"part-two\",\"link\":\"/code/part-two\"},{\"text\":\"part-three\",\"link\":\"/code/part-three\"}]},{\"text\":\"代码执行结果\",\"items\":[{\"text\":\"Introduction\",\"link\":\"/code/introduction\"},{\"text\":\"作用域\",\"link\":\"/code/变量作用域\"},{\"text\":\"this指向\",\"link\":\"/code/this\"},{\"text\":\"EventLoop\",\"link\":\"/code/introduction\"},{\"text\":\"隐式类型转换\",\"link\":\"/code/类型转换\"},{\"text\":\"执行结果\",\"link\":\"/code/introduction\"}]}],\"/interview\":[{\"text\":\"Html\",\"collapsed\":true,\"items\":[{\"text\":\"面试题\",\"link\":\"/interview/html-interview\"}]},{\"text\":\"CSS\",\"collapsed\":true,\"items\":[{\"text\":\"面试题\",\"link\":\"/interview/css-interview\"}]},{\"text\":\"JavaScript\",\"collapsed\":true,\"items\":[{\"text\":\"面试题\",\"link\":\"/interview/js-interview\"}]},{\"text\":\"计算机网络\",\"collapsed\":true,\"items\":[{\"text\":\"面试题\",\"link\":\"/interview/network-interview\"}]},{\"text\":\"浏览器原理\",\"collapsed\":true,\"items\":[{\"text\":\"面试题\",\"link\":\"/interview/browser-interview\"}]},{\"text\":\"Vue\",\"collapsed\":true,\"items\":[{\"text\":\"Introduction\",\"link\":\"/interview/vue/introduction\"},{\"text\":\"Interview\",\"link\":\"/interview/vue/interview\"},{\"text\":\"Vue 基础\",\"link\":\"/interview/vue/vue基础\"},{\"text\":\"Vue 原理\",\"link\":\"/interview/vue/vue原理\"}]},{\"text\":\"React\",\"collapsed\":true,\"items\":[{\"text\":\"面试题\",\"link\":\"/interview/react-interview.md\"}]},{\"text\":\"项目优化\",\"collapsed\":true,\"items\":[{\"text\":\"面试题\",\"link\":\"/interview/optimize-interview.md\"}]},{\"text\":\"项目管理\",\"collapsed\":true,\"items\":[{\"text\":\"面试题\",\"link\":\"/interview/project-interview.md\"}]},{\"text\":\"项目打包\",\"collapsed\":true,\"items\":[{\"text\":\"面试题\",\"link\":\"/interview/webpack-interview.md\"}]}]},\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/godwei123\"}],\"footer\":{\"message\":\"Released under the MIT License.\",\"copyright\":\"Copyright © 2021-present God Wei\"},\"search\":{\"provider\":\"local\",\"options\":{\"locales\":{\"zh\":{\"translations\":{\"button\":{\"buttonText\":\"搜索文档\",\"buttonAriaLabel\":\"搜索文档\"},\"modal\":{\"noResultsText\":\"无法找到相关结果\",\"resetButtonTitle\":\"清除查询条件\",\"footer\":{\"selectText\":\"选择\",\"navigateText\":\"切换\",\"closeText\":\"关闭\"}}}}}}}},\"locales\":{},\"scrollOffset\":90,\"cleanUrls\":false}")</script>
    
  </body>
</html>